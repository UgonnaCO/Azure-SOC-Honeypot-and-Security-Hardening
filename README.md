# Azure Honeypot Security Operations Project
![image](https://github.com/user-attachments/assets/707c78c0-96e2-41a8-b53c-0b28433390e3)

## Introduction

This project involves setting up a honeynet in Microsoft Azure, designed to attract and monitor malicious activity. The goal is to log and analyze the traffic generated by these attacks, respond to incidents, and ultimately implement security measures to fortify the environment.

## Objectives

The primary objective of this project is to create a honeynet that enables real-time analysis of cyberattacks, allowing for incident response and in-depth investigation of security alerts. By studying attackersâ€™ methods and behaviors, I aimed to understand their tactics, techniques, and procedures. The secondary objective was to transform a deliberately insecure environment into a secure one by reconfiguring firewalls, Network Security Groups (NSGs), and implementing Azure Private Links while adhering to regulatory standards such as NIST 800-53 and Microsoft Defender for Cloud recommendations.

## Technologies and Tools

- **Virtual Network (VNet)**
- **Network Security Group (NSG)**
- **Virtual Machines (Windows and Linux)**
- **Log Analytics Workspace** (for KQL queries)
- **Azure Key Vault**
- **Azure Storage Account**
- **Microsoft Sentinel** (SIEM)
- **Microsoft Defender for Cloud**
- **PowerShell** (for simulated attacks)
- **Command Line Interface (CLI)**
- **Windows Remote Desktop**
- **NIST SP 800-53** (Security Controls)
- **NIST SP 800-61** (Incident Handling Guidance)

## Architecture BEFORE Hardening and Implementing Security Controls
![image](https://github.com/user-attachments/assets/9f02e0e9-82df-403c-8cf8-22c4e3e614c3)

## Architecture AFTER Hardening and Implementing Security Controls
![image](https://github.com/user-attachments/assets/d2a1ac23-3043-4a06-b5f1-c1c2af22fb9f)


## Project Phases

### Phase I: Creating the Honeynet
I deployed both Windows and Linux virtual machines and configured the environment to be vulnerable by allowing all traffic through firewalls and NSGs. This setup was intentionally insecure to attract cyberattacks.
![image](https://github.com/user-attachments/assets/26998d4a-d430-4b9e-8c44-5f5e6d113554)


### Phase II: Simulated Attacks & Monitoring
Using PowerShell, I simulated various attack scenarios such as brute force attempts and privilege escalation. Logs and alerts from these events were captured and analyzed using KQL queries in Log Analytics Workspace.

SignInLogs for invalid username or password event alerts
![image](https://github.com/user-attachments/assets/7a746dd7-1b04-458f-b74f-121ebb7274a2)
![image](https://github.com/user-attachments/assets/176c1b5e-8271-485a-a489-cd3607b9e285)

SecuityEvent logs display brute force attacks against Windows virtual machines

![image](https://github.com/user-attachments/assets/49c53976-b162-4956-82c6-6d81813eb9f6)
![image](https://github.com/user-attachments/assets/d2af0e2e-1a05-449b-8bfa-8029d97aedda)

Syslog display failed password against Linux virtual machine
![image](https://github.com/user-attachments/assets/eb628305-406a-4102-a042-c50c861483a1)


### Phase III: Incident Analysis & Response
I monitored and assessed incidents over 24 hours, analyzing the details of each attack, including the attackers' IP addresses, techniques, and the timeline of the attacks. This helped in determining whether incidents were true or false positives.
![image](https://github.com/user-attachments/assets/0a794873-dddc-4a1d-9e18-8298d39833dc)
![image](https://github.com/user-attachments/assets/dd86c9a3-6f5e-43e0-b22e-3885c4d2e963)

### Phase IV: Hardening & Compliance
Following the analysis, I secured the environment by enabling security controls: disabling public access, creating private endpoints, and configuring NSGs to restrict traffic to trusted sources only. All measures were implemented in line with NIST 800-53 guidelines.

### Phase V: Results & Metrics Comparison
I compared the metrics before and after hardening the environment. Initially, the honeynet attracted significant malicious traffic, but after implementing the security controls, attacks ceased entirely, demonstrating the effectiveness of the measures.

## Before Hardening
This attack world map displays attacks to the MSSQL Server

![image](https://github.com/user-attachments/assets/b8cbc108-9f84-48c4-ac60-bc10f10dd865)

This attack world map depicts the number of attacks targetted to the Linux virtual machine

![image](https://github.com/user-attachments/assets/9d472a88-d84c-4e91-ae48-5398a014deb6)

This attack world map accentuates how many attacks the Windows virtual machine encountered

![image](https://github.com/user-attachments/assets/e3858812-35ea-4cb7-aa51-f01d3e3f5462)

This attack world map represents the large influx of malicious traffic resulted from insecure environment

![image](https://github.com/user-attachments/assets/b910bfca-7f8b-42e4-979b-4c2588129bd2)

Metrics were collected during the 2024-08-08 at 21:04 - 2023-05-09 at 21:04 timeframe

![image](https://github.com/user-attachments/assets/bdbf6cf7-b291-479e-ae9a-e550169ca927)

## After Hardening
Attack world maps displayed no results, indicating that there has not been any new attacks after securing the environment.

Metrics were collected during the 2024-08-09 at 21:04 - 2023-05-10 at 21:04 timeframe

![image](https://github.com/user-attachments/assets/db6eb46f-1945-4b77-9f97-34f32bc82672)


## Reflection

This project reinforced the critical importance of implementing proper security controls and configurations. The stark contrast between the metrics of the insecure and secure environments underscores how essential these practices are in protecting resources from unauthorized access and attacks.

## Conclusion

In this project, I successfully set up an Azure-based honeynet, monitored real-time attacks, analyzed security incidents, and fortified the environment following regulatory standards. This experience provided valuable insights into the importance of cloud security and the steps necessary to maintain a secure infrastructure.






